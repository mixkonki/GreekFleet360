{% extends 'base.html' %}

{% block title %}Dashboard - GreekFleet 360{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-800">Dashboard</h1>
    <p class="text-gray-600 mt-1">Επισκόπηση Στόλου & Οικονομικών</p>
</div>

<!-- KPI Cards -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <!-- Monthly Revenue -->
    <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm text-gray-600 font-medium">Μηνιαία Έσοδα</p>
                <p class="text-3xl font-bold text-gray-800 mt-2">€{{ monthly_revenue|floatformat:2 }}</p>
                <p class="text-xs text-gray-500 mt-1">Τρέχων μήνας</p>
            </div>
            <div class="bg-blue-100 rounded-full p-3">
                <i class="fas fa-euro-sign text-2xl text-blue-600"></i>
            </div>
        </div>
    </div>
    
    <!-- Fleet Profit Margin -->
    <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm text-gray-600 font-medium">Μέσο Περιθώριο Κέρδους</p>
                <p class="text-3xl font-bold text-gray-800 mt-2">{{ fleet_profit_margin }}%</p>
                <p class="text-xs text-gray-500 mt-1">Στόλος</p>
            </div>
            <div class="bg-green-100 rounded-full p-3">
                <i class="fas fa-chart-line text-2xl text-green-600"></i>
            </div>
        </div>
    </div>
    
    <!-- Active Vehicles -->
    <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm text-gray-600 font-medium">Ενεργά Οχήματα</p>
                <p class="text-3xl font-bold text-gray-800 mt-2">{{ active_vehicles }}</p>
                <p class="text-xs text-gray-500 mt-1">Σε λειτουργία</p>
            </div>
            <div class="bg-purple-100 rounded-full p-3">
                <i class="fas fa-truck text-2xl text-purple-600"></i>
            </div>
        </div>
    </div>
    
    <!-- Upcoming Maintenance -->
    <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500">
        <div class="flex items-center justify-between">
            <div>
                <p class="text-sm text-gray-600 font-medium">Επικείμενη Συντήρηση</p>
                <p class="text-3xl font-bold text-gray-800 mt-2">{{ upcoming_maintenance }}</p>
                <p class="text-xs text-gray-500 mt-1">Οχήματα</p>
            </div>
            <div class="bg-orange-100 rounded-full p-3">
                <i class="fas fa-wrench text-2xl text-orange-600"></i>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Recent Activity -->
    <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">Πρόσφατη Δραστηριότητα</h2>
        <div class="space-y-4">
            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                <div class="bg-blue-100 rounded-full p-2 mr-3">
                    <i class="fas fa-gas-pump text-blue-600"></i>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-800">Καταχώρηση Καυσίμου</p>
                    <p class="text-xs text-gray-500">ΑΒΓ-1234 - 50L - €87.50</p>
                </div>
                <span class="text-xs text-gray-400">2 ώρες πριν</span>
            </div>
            
            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                <div class="bg-green-100 rounded-full p-2 mr-3">
                    <i class="fas fa-check-circle text-green-600"></i>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-800">Ολοκληρώθηκε Εντολή</p>
                    <p class="text-xs text-gray-500">Αθήνα → Θεσσαλονίκη</p>
                </div>
                <span class="text-xs text-gray-400">5 ώρες πριν</span>
            </div>
            
            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                <div class="bg-orange-100 rounded-full p-2 mr-3">
                    <i class="fas fa-wrench text-orange-600"></i>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-800">Συντήρηση</p>
                    <p class="text-xs text-gray-500">ΧΥΖ-5678 - Service A</p>
                </div>
                <span class="text-xs text-gray-400">1 ημέρα πριν</span>
            </div>
        </div>
    </div>
    
    <!-- Quick Links -->
    <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-bold text-gray-800 mb-4">Γρήγορες Ενέργειες</h2>
        <div class="grid grid-cols-2 gap-4">
            <a href="{% url 'web:vehicle_list' %}" class="flex flex-col items-center justify-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
                <i class="fas fa-truck text-3xl text-blue-600 mb-2"></i>
                <span class="text-sm font-medium text-gray-700">Προβολή Στόλου</span>
            </a>
            
            <a href="{% url 'web:order_list' %}" class="flex flex-col items-center justify-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors">
                <i class="fas fa-route text-3xl text-green-600 mb-2"></i>
                <span class="text-sm font-medium text-gray-700">Εντολές</span>
            </a>
            
            <a href="/admin/operations/fuelentry/add/" class="flex flex-col items-center justify-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
                <i class="fas fa-gas-pump text-3xl text-purple-600 mb-2"></i>
                <span class="text-sm font-medium text-gray-700">Καταχώρηση Καυσίμου</span>
            </a>
            
            <a href="/admin/operations/servicelog/add/" class="flex flex-col items-center justify-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors">
                <i class="fas fa-wrench text-3xl text-orange-600 mb-2"></i>
                <span class="text-sm font-medium text-gray-700">Συντήρηση</span>
            </a>
        </div>
    </div>
</div>
{% endblock %}
